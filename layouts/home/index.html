{{ define "body_classes" }}page-home{{ end }}

{{ define "main" }}
<div class="home-wrapper home">
  <div class="container">
    <div class="intro">
      <div class="row justify-content-start">
        <div class="col-12 position-relative">
          <img alt={{ .Title }} class="intro-image d-none d-md-block" src={{ "images/logo/home-banner-text-wide-2024v1.svg" | relURL }} />
          <img alt={{ .Title }} class="intro-image d-md-none" src={{ "images/logo/home-banner-text-box-2024v1.svg" | relURL }} />
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <h1 id="headline">{{ i18n "time-until-festival" }}</h1>
  <div id="countdown">
    <ul>
      <li><span id="days"></span>{{ i18n "days" }}</li>
      <li><span id="hours"></span>{{ i18n "time-h" }}</li>
      <li><span id="minutes"></span>{{ i18n "time-m" }}</li>
      <li><span id="seconds"></span>{{ i18n "time-s" }}</li>
    </ul>
  </div>
  <div id="content" class="emoji">
    <span>ðŸ”¦</span>
    <span>ðŸ’¡</span>
    <span>ðŸŽ‰</span>
  </div>
</div>
<script>
  (function () {
    const second = 1000,
      minute = second * 60,
      hour = minute * 60,
      day = hour * 24;

    //I'm adding this section so I don't have to keep updating this pen every year :-)
    //remove this if you don't need it
    let today = new Date(),
      dd = String(today.getDate()).padStart(2, "0"),
      mm = String(today.getMonth() + 1).padStart(2, "0"),
      yyyy = 2024,
      dayMonth = "05/10/",
      birthday = dayMonth + yyyy;

    today = mm + "/" + dd + "/" + yyyy;
    //end

    const countDown = new Date(birthday).getTime(),
      x = setInterval(function () {

        const now = new Date().getTime(),
          distance = countDown - now;

        document.getElementById("days").innerText = Math.floor(distance / (day)),
          document.getElementById("hours").innerText = Math.floor((distance % (day)) / (hour)),
          document.getElementById("minutes").innerText = Math.floor((distance % (hour)) / (minute)),
          document.getElementById("seconds").innerText = Math.floor((distance % (minute)) / second);

        //do something later when date is reached
        if (distance < 0) {
          document.getElementById("headline").innerText = "";
          document.getElementById("countdown").style.display = "none";
          document.getElementById("content").style.display = "block";
          clearInterval(x);
        }
        //seconds
      }, 0)
  }());
</script>

<div class="container pb-6 pt-md-10 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <div class="content">{{ .Content }}</div>
    </div>
  </div>
</div>

{{ $data_nolang := .Site.Data }}
{{ $data_lang := index .Site.Data .Site.Language.Lang }}
{{ $data := merge $data_nolang $data_lang }}
{{if $data.features}}
<div class="strip strip-grey">
  <div class="container pt-6 pb-6 pt-md-10 pb-md-10">
    <div class="row justify-content-center">
      {{ range $data.features }}
      <div class="col-12 col-md-6 col-lg-4 mb-2">
        <a href="{{ (site.GetPage .href).Permalink }}">
          <div class="feature">
            {{ if .image }}
            <div class="feature-image"><img width="100" height="100" alt="{{ .Title }} logo"
                src="{{ .image | absURL }}" /></div>
            {{ end }}
            <h2 class="feature-title">{{ .title }}</h2>
            <div class="feature-content">
              <p>{{ .description }}</p>
            </div>
          </div>
        </a>
      </div>
      {{end}}
    </div>
  </div>
</div>
{{end}}

{{ partial "partners.html" . }}

{{ if .Site.Params.homepage.show_contact_box }}
{{ partial "call-front.html" (dict "site" .Site "context" . "show_button" "true") }}
{{ end }}

{{ end }}

{{ define "footer_js" }}
{{ end }}
